const { assert } = require('chai');
import _ from 'lodash';

import WC from '../src/assets/js/WeatherComponent.vue';
const data = '{"cod":"200","message":0.0056,"cnt":40,"list":[{"dt":1540080000,"main":{"temp":59.49,"temp_min":54.54,"temp_max":59.49,"pressure":825.07,"sea_level":1035.11,"grnd_level":825.07,"humidity":35,"temp_kf":2.74},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":5.19,"deg":122.513},"sys":{"pod":"n"},"dt_txt":"2018-10-21 00:00:00"},{"dt":1540090800,"main":{"temp":45.7,"temp_min":41.99,"temp_max":45.7,"pressure":824.83,"sea_level":1038.95,"grnd_level":824.83,"humidity":45,"temp_kf":2.06},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":7.29,"deg":185.001},"sys":{"pod":"n"},"dt_txt":"2018-10-21 03:00:00"},{"dt":1540101600,"main":{"temp":39.69,"temp_min":37.21,"temp_max":39.69,"pressure":823.81,"sea_level":1039.7,"grnd_level":823.81,"humidity":49,"temp_kf":1.37},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":7.63,"deg":196.503},"sys":{"pod":"n"},"dt_txt":"2018-10-21 06:00:00"},{"dt":1540112400,"main":{"temp":34,"temp_min":32.76,"temp_max":34,"pressure":822.9,"sea_level":1039.39,"grnd_level":822.9,"humidity":54,"temp_kf":0.69},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"02n"}],"clouds":{"all":8},"wind":{"speed":5.19,"deg":215},"sys":{"pod":"n"},"dt_txt":"2018-10-21 09:00:00"},{"dt":1540123200,"main":{"temp":30.02,"temp_min":30.02,"temp_max":30.02,"pressure":822.6,"sea_level":1039.59,"grnd_level":822.6,"humidity":61,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"02n"}],"clouds":{"all":8},"wind":{"speed":3.98,"deg":244.504},"sys":{"pod":"n"},"dt_txt":"2018-10-21 12:00:00"},{"dt":1540134000,"main":{"temp":41.26,"temp_min":41.26,"temp_max":41.26,"pressure":822.92,"sea_level":1038.04,"grnd_level":822.92,"humidity":48,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"clouds":{"all":12},"wind":{"speed":5.17,"deg":252.002},"sys":{"pod":"d"},"dt_txt":"2018-10-21 15:00:00"},{"dt":1540144800,"main":{"temp":63.33,"temp_min":63.33,"temp_max":63.33,"pressure":822.31,"sea_level":1031.38,"grnd_level":822.31,"humidity":38,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"02d"}],"clouds":{"all":8},"wind":{"speed":1.92,"deg":319.505},"sys":{"pod":"d"},"dt_txt":"2018-10-21 18:00:00"},{"dt":1540155600,"main":{"temp":64.46,"temp_min":64.46,"temp_max":64.46,"pressure":820.43,"sea_level":1027.73,"grnd_level":820.43,"humidity":34,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":4.63,"deg":112.506},"sys":{"pod":"d"},"dt_txt":"2018-10-21 21:00:00"},{"dt":1540166400,"main":{"temp":55.49,"temp_min":55.49,"temp_max":55.49,"pressure":819.7,"sea_level":1027.57,"grnd_level":819.7,"humidity":37,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":4.5,"deg":111.511},"sys":{"pod":"n"},"dt_txt":"2018-10-22 00:00:00"},{"dt":1540177200,"main":{"temp":41.35,"temp_min":41.35,"temp_max":41.35,"pressure":820.04,"sea_level":1031.65,"grnd_level":820.04,"humidity":53,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":5.75,"deg":148},"sys":{"pod":"n"},"dt_txt":"2018-10-22 03:00:00"},{"dt":1540188000,"main":{"temp":37.55,"temp_min":37.55,"temp_max":37.55,"pressure":819.5,"sea_level":1033.23,"grnd_level":819.5,"humidity":57,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":5.28,"deg":224.501},"sys":{"pod":"n"},"dt_txt":"2018-10-22 06:00:00"},{"dt":1540198800,"main":{"temp":35.07,"temp_min":35.07,"temp_max":35.07,"pressure":819.68,"sea_level":1034.67,"grnd_level":819.68,"humidity":68,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":12},"wind":{"speed":5.19,"deg":257.506},"sys":{"pod":"n"},"dt_txt":"2018-10-22 09:00:00"},{"dt":1540209600,"main":{"temp":34.13,"temp_min":34.13,"temp_max":34.13,"pressure":819.65,"sea_level":1035.89,"grnd_level":819.65,"humidity":67,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":5.17,"deg":258.501},"sys":{"pod":"n"},"dt_txt":"2018-10-22 12:00:00"},{"dt":1540220400,"main":{"temp":43.44,"temp_min":43.44,"temp_max":43.44,"pressure":820.55,"sea_level":1035.07,"grnd_level":820.55,"humidity":55,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":3.96,"deg":264.501},"sys":{"pod":"d"},"dt_txt":"2018-10-22 15:00:00"},{"dt":1540231200,"main":{"temp":60.36,"temp_min":60.36,"temp_max":60.36,"pressure":820.5,"sea_level":1029.54,"grnd_level":820.5,"humidity":42,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":2.59,"deg":53.0025},"sys":{"pod":"d"},"dt_txt":"2018-10-22 18:00:00"},{"dt":1540242000,"main":{"temp":63.38,"temp_min":63.38,"temp_max":63.38,"pressure":819.32,"sea_level":1026.72,"grnd_level":819.32,"humidity":37,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":4.76,"deg":88.0037},"sys":{"pod":"d"},"dt_txt":"2018-10-22 21:00:00"},{"dt":1540252800,"main":{"temp":56.56,"temp_min":56.56,"temp_max":56.56,"pressure":819.26,"sea_level":1027.89,"grnd_level":819.26,"humidity":36,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":24},"wind":{"speed":4.59,"deg":106.502},"sys":{"pod":"n"},"dt_txt":"2018-10-23 00:00:00"},{"dt":1540263600,"main":{"temp":45.88,"temp_min":45.88,"temp_max":45.88,"pressure":820.79,"sea_level":1033.57,"grnd_level":820.79,"humidity":42,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":7.4,"deg":164.505},"sys":{"pod":"n"},"dt_txt":"2018-10-23 03:00:00"},{"dt":1540274400,"main":{"temp":41.25,"temp_min":41.25,"temp_max":41.25,"pressure":821.43,"sea_level":1036.75,"grnd_level":821.43,"humidity":57,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":12},"wind":{"speed":7.74,"deg":178.502},"sys":{"pod":"n"},"dt_txt":"2018-10-23 06:00:00"},{"dt":1540285200,"main":{"temp":38.1,"temp_min":38.1,"temp_max":38.1,"pressure":821.4,"sea_level":1038.31,"grnd_level":821.4,"humidity":72,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":6.17,"deg":179.5},"sys":{"pod":"n"},"dt_txt":"2018-10-23 09:00:00"},{"dt":1540296000,"main":{"temp":34.79,"temp_min":34.79,"temp_max":34.79,"pressure":820.86,"sea_level":1038.35,"grnd_level":820.86,"humidity":84,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":36},"wind":{"speed":4.16,"deg":170.007},"sys":{"pod":"n"},"dt_txt":"2018-10-23 12:00:00"},{"dt":1540306800,"main":{"temp":41.36,"temp_min":41.36,"temp_max":41.36,"pressure":821.47,"sea_level":1037.77,"grnd_level":821.47,"humidity":71,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":56},"wind":{"speed":2.82,"deg":155.003},"sys":{"pod":"d"},"dt_txt":"2018-10-23 15:00:00"},{"dt":1540317600,"main":{"temp":52.42,"temp_min":52.42,"temp_max":52.42,"pressure":821.55,"sea_level":1033.21,"grnd_level":821.55,"humidity":54,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":88},"wind":{"speed":4.5,"deg":168.501},"rain":{"3h":0.11},"sys":{"pod":"d"},"dt_txt":"2018-10-23 18:00:00"},{"dt":1540328400,"main":{"temp":57.06,"temp_min":57.06,"temp_max":57.06,"pressure":819.01,"sea_level":1028.7,"grnd_level":819.01,"humidity":50,"temp_kf":0},"weather":[{"id":803,"main":"Clouds","description":"broken clouds","icon":"04d"}],"clouds":{"all":76},"wind":{"speed":8.75,"deg":152.501},"rain":{},"sys":{"pod":"d"},"dt_txt":"2018-10-23 21:00:00"},{"dt":1540339200,"main":{"temp":52.73,"temp_min":52.73,"temp_max":52.73,"pressure":818.43,"sea_level":1028.74,"grnd_level":818.43,"humidity":53,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":36},"wind":{"speed":5.44,"deg":154.006},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-24 00:00:00"},{"dt":1540350000,"main":{"temp":40.43,"temp_min":40.43,"temp_max":40.43,"pressure":819.11,"sea_level":1031.72,"grnd_level":819.11,"humidity":83,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":24},"wind":{"speed":3.4,"deg":195.011},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-24 03:00:00"},{"dt":1540360800,"main":{"temp":36.44,"temp_min":36.44,"temp_max":36.44,"pressure":819.32,"sea_level":1033.23,"grnd_level":819.32,"humidity":90,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":36},"wind":{"speed":3.62,"deg":220.501},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-24 06:00:00"},{"dt":1540371600,"main":{"temp":34.76,"temp_min":34.76,"temp_max":34.76,"pressure":819.23,"sea_level":1033.8,"grnd_level":819.23,"humidity":90,"temp_kf":0},"weather":[{"id":802,"main":"Clouds","description":"scattered clouds","icon":"03n"}],"clouds":{"all":36},"wind":{"speed":2.62,"deg":225.001},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-24 09:00:00"},{"dt":1540382400,"main":{"temp":32.89,"temp_min":32.89,"temp_max":32.89,"pressure":819.16,"sea_level":1034.35,"grnd_level":819.16,"humidity":89,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":2.53,"deg":258.002},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-24 12:00:00"},{"dt":1540393200,"main":{"temp":41.44,"temp_min":41.44,"temp_max":41.44,"pressure":819.53,"sea_level":1034.08,"grnd_level":819.53,"humidity":75,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02d"}],"clouds":{"all":12},"wind":{"speed":3.04,"deg":245.5},"rain":{},"sys":{"pod":"d"},"dt_txt":"2018-10-24 15:00:00"},{"dt":1540404000,"main":{"temp":57.21,"temp_min":57.21,"temp_max":57.21,"pressure":819.08,"sea_level":1029.58,"grnd_level":819.08,"humidity":55,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":3.6,"deg":44.5009},"rain":{},"sys":{"pod":"d"},"dt_txt":"2018-10-24 18:00:00"},{"dt":1540414800,"main":{"temp":56.59,"temp_min":56.59,"temp_max":56.59,"pressure":817.82,"sea_level":1026.27,"grnd_level":817.82,"humidity":52,"temp_kf":0},"weather":[{"id":500,"main":"Rain","description":"light rain","icon":"10d"}],"clouds":{"all":36},"wind":{"speed":3.51,"deg":58.0014},"rain":{"3h":0.04},"sys":{"pod":"d"},"dt_txt":"2018-10-24 21:00:00"},{"dt":1540425600,"main":{"temp":50.54,"temp_min":50.54,"temp_max":50.54,"pressure":817.63,"sea_level":1027.06,"grnd_level":817.63,"humidity":57,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"02n"}],"clouds":{"all":8},"wind":{"speed":1.05,"deg":125.001},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-25 00:00:00"},{"dt":1540436400,"main":{"temp":39.29,"temp_min":39.29,"temp_max":39.29,"pressure":819.37,"sea_level":1031.77,"grnd_level":819.37,"humidity":71,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":3.94,"deg":255.002},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-25 03:00:00"},{"dt":1540447200,"main":{"temp":35.33,"temp_min":35.33,"temp_max":35.33,"pressure":819.68,"sea_level":1033.97,"grnd_level":819.68,"humidity":69,"temp_kf":0},"weather":[{"id":801,"main":"Clouds","description":"few clouds","icon":"02n"}],"clouds":{"all":20},"wind":{"speed":6.08,"deg":255.501},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-25 06:00:00"},{"dt":1540458000,"main":{"temp":35.02,"temp_min":35.02,"temp_max":35.02,"pressure":819.68,"sea_level":1034.8,"grnd_level":819.68,"humidity":68,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"02n"}],"clouds":{"all":8},"wind":{"speed":5.95,"deg":255},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-25 09:00:00"},{"dt":1540468800,"main":{"temp":31.58,"temp_min":31.58,"temp_max":31.58,"pressure":819.91,"sea_level":1035.92,"grnd_level":819.91,"humidity":74,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01n"}],"clouds":{"all":0},"wind":{"speed":5.39,"deg":247.502},"rain":{},"sys":{"pod":"n"},"dt_txt":"2018-10-25 12:00:00"},{"dt":1540479600,"main":{"temp":38.92,"temp_min":38.92,"temp_max":38.92,"pressure":820.7,"sea_level":1035.39,"grnd_level":820.7,"humidity":62,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":4.61,"deg":229.503},"rain":{},"sys":{"pod":"d"},"dt_txt":"2018-10-25 15:00:00"},{"dt":1540490400,"main":{"temp":58.21,"temp_min":58.21,"temp_max":58.21,"pressure":820.24,"sea_level":1029.17,"grnd_level":820.24,"humidity":47,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":4,"deg":238.503},"rain":{},"sys":{"pod":"d"},"dt_txt":"2018-10-25 18:00:00"},{"dt":1540501200,"main":{"temp":60.25,"temp_min":60.25,"temp_max":60.25,"pressure":818.13,"sea_level":1025.53,"grnd_level":818.13,"humidity":42,"temp_kf":0},"weather":[{"id":800,"main":"Clear","description":"clear sky","icon":"01d"}],"clouds":{"all":0},"wind":{"speed":3.62,"deg":343.002},"rain":{},"sys":{"pod":"d"},"dt_txt":"2018-10-25 21:00:00"}],"city":{"id":5419384,"name":"Denver","coord":{"lat":39.7392,"lon":-104.9848},"country":"US","population":600158}}';

WC.data();

describe('getHour', () => {
	it('return just hour', () => {
		assert.strictEqual(WC.methods.getHour(1540080000), '6 pm');
	});
});

describe('setWeather', () => {
	it('should group in six days', () => {
		assert.strictEqual(
			_.keys(WC.methods.setWeather(JSON.parse(data).list)).length, 6);
	});
});

describe('getWeatherStatus', () => {
	it('should return weather status', () => {
		assert.strictEqual(
			WC.methods.getWeatherStatus(JSON.parse(data).list[0]), 'Clear');
	});
});

describe('getTemp', () => {
	it('should return weather status', () => {
		assert.strictEqual(
			WC.methods.getTemp(JSON.parse(data).list[0]), 59);
	});
});
